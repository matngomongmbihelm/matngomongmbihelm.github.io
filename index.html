<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="tw.png" sizes="16x16" type="image/png">
    <link href="style.css" rel="stylesheet">
    <link href="table.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <title>Fetch Data People</title>
  </head>
  <body>
    <div class="container">
      <div class="card text-center mt-5">
        <h4 class="card-header">Data Fetching</h4>
        <div class="card-body">
          <table id="table">
            <thead>
              <tr>
                <th data-field="id">ID</th>
                <th data-field="device">DEVICE</th>
                <th data-field="token">TOKEN</th>
                <th data-field="tanggal">TANGGAL</th>
              </tr>
            </thead>
          </table>
        </div>
        <div class="card-footer text-muted">
          READABLE USAGE
        </div>
      </div>
      <script>
        var $table = $('#table');
        var firebaseConfig = {
            apiKey: "AIzaSyA7aOALLRGxJcFdbAaC3zyGFowwXw0hfRM",
            authDomain: "trackinguserhtc.firebaseapp.com",
            databaseURL: "https://trackinguserhtc-default-rtdb.firebaseio.com",
            projectId: "trackinguserhtc",
            storageBucket: "trackinguserhtc.appspot.com",
            messagingSenderId: "402421887585",
            appId: "1:402421887585:web:d449277383fcc075a17020"
          };
          firebase.initializeApp(firebaseConfig);
        var reading = firebase.database().ref('user_id/');
            reading.on('value', function(snapshot) {
              snapshot.forEach(function(childSnapshot) {
                var childData = childSnapshot.val();
                var data = [{
                 'id': childData.user_htc,
                 'device': childData.device_id,
                 'token': childData.secret_token,
                 'tanggal': childData.tanggal,
                 }];
                $table.bootstrapTable({data: data})
               });
            });
      </script>
    <script src="bundle.js"></script>
    <script src="table.js"></script>
  </body>
</html>
